# QA 체크리스트 (회의실 관리 시스템)

본 체크리스트는 기본/에지/실시간/보안 시나리오를 빠짐없이 검증해 배포 전 오류를 최소화하는 목적입니다.

## 0. 사전 준비
- [ ] `.env.local` 설정 (`NEXT_PUBLIC_SUPABASE_*`, `ADMIN_USERNAME`, `ADMIN_PASSWORD`)
- [ ] DB 마이그레이션 적용(테이블/제약/뷰/RPC) 및 에러 없음
- [ ] 로컬 또는 스테이징 URL 확인(`/`, `/admin/login`)

## 1. 관리자 인증
- [ ] 잘못된 아이디/비밀번호 → 401, 에러 메시지 노출, 세션 미발급
- [ ] 올바른 아이디/비밀번호 → `/admin` 리다이렉트, `admin_session` 쿠키 발급
- [ ] 세션 만료(8h 가정) 또는 로그아웃 시 `/admin` 접근 차단 및 `/admin/login` 리다이렉트

## 2. 회의실 CRUD
- [ ] 생성: 유효(name/location/capacity>0) → 목록 반영
- [ ] 중복 이름 → 서버 409/제약 오류 시 사용자에게 명확히 표시(토스트)
- [ ] 수정: name/location/capacity 변경 → 목록 반영, 실시간 업데이트 트리거
- [ ] 삭제: 확인 대화 후 삭제, 예약 CASCADE 기대 동작 확인

## 3. 예약 생성/검증
- [ ] 정상 생성: 유효 폼 값 → 성공 토스트 + 현황 즉시 갱신
- [ ] 전화 형식 오류(010-0000-0000) → 폼 에러 메시지
- [ ] 비밀번호 3자 이하 → 폼 에러 메시지
- [ ] 종료≤시작 → 폼/서버 에러 메시지
- [ ] 중복 시간대(같은 방/날짜) → 서버 에러(제약) 처리 및 사용자 알림
- [ ] 경계 시간(첫/마지막 슬롯) → 올바르게 처리

## 4. 내 예약 조회/취소
- [ ] 전화/비번 불일치 → 목록 0 또는 에러 처리 일관성 확인
- [ ] 정상 조회 → 본인 것만 시간 오름차순
- [ ] 취소 성공 → 상태 cancelled, 현황 즉시 갱신

## 5. 실시간 반영
- [ ] 다른 클라이언트에서 예약/취소/회의실 변경 시 목록 자동 갱신
- [ ] 구독 해제/재연결 시에도 메모리 누수 없이 정상 동작

## 6. 보안/권한
- [ ] `/admin/*` 미로그인 접근 차단(middleware)
- [ ] 관리자 API 인증 없이 호출 시 401
- [ ] 민감정보(예약 비번 해시) 응답에 노출되지 않음
- [ ] 쿠키 속성(HttpOnly, SameSite, Secure in prod) 확인

## 7. 성능/UX
- [ ] 첫 로드 2초 이내, 실시간 반영 체감 1초 내
- [ ] 빈 상태/에러 상태 한글 문구 자연스러움
- [ ] 모바일 해상도(375px)에서 주요 플로우 사용 가능

## 8. 회귀 포인트
- [ ] 관리자 로그인 변경(ID/PW) 이후 기존 기능 회귀 없음
- [ ] 시간대 유틸/검증 로직 변경 시 예약·현황 동시 확인

---
검증 완료 후 체크리스트와 이슈를 함께 보관해 다음 릴리즈의 기준선으로 활용하세요.
